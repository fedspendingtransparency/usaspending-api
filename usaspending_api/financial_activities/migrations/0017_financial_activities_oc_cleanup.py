# -*- coding: utf-8 -*-
# Generated by Django 1.10.1 on 2017-03-20 14:43
from __future__ import unicode_literals

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('financial_activities', '0016_financial_activities_oc_data_migration'),
    ]

    operations = [
        # Remove old column. Using raw SQL to do this
        # because Django migrations won't recognize this as the temporarily-
        # renamed original object_class field
        migrations.RunSQL(
            'ALTER TABLE financial_accounts_by_program_activity_object_class DROP COLUMN IF EXISTS object_class_old',
            migrations.RunSQL.noop),
        # Remove direct/reimbursable column...that info is in the oject_class table
        migrations.AlterField(
            model_name='FinancialAccountsByProgramActivityObjectClass',
            name='by_direct_reimbursable_funding_source',
            field=models.CharField(max_length=5, default='D'),
            preserve_default=True),
        migrations.RemoveField(
            model_name='FinancialAccountsByProgramActivityObjectClass',
            name='by_direct_reimbursable_funding_source'),
        # FK to program activity is now program_activity_id, so we don't
        # need program_activity_code anyomre
        migrations.AlterField(
            model_name='FinancialAccountsByProgramActivityObjectClass',
            name='program_activity_code',
            field=models.IntegerField(default=3732),
            preserve_default=True),
        migrations.RemoveField(
            model_name='FinancialAccountsByProgramActivityObjectClass',
            name='program_activity_code'),
        # Remove program_activity_name, since that should be pulled from the
        # program activity reference table
        migrations.AlterField(
            model_name='FinancialAccountsByProgramActivityObjectClass',
            name='program_activity_name',
            field=models.CharField(max_length=50, default='Unknown'),
            preserve_default=True),
        migrations.RemoveField(
            model_name='FinancialAccountsByProgramActivityObjectClass',
            name='program_activity_name'),
    ]
